{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/HO_CHUN_WEI/Desktop/web/Jose-Antonio_LoverBus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect,useRef}from'react';import{useQuery,useMutation}from'@apollo/react-hooks';import{useHistory}from'react-router-dom';import{Tooltip,Form,Checkbox,Input,Layout,Menu,Breadcrumb,Button,Table,Popconfirm,Drawer,Col,Row,Select,Space}from'antd';// import Highlighter from 'react-highlight-words';\n// import { SearchOutlined } from '@ant-design/icons';    \nimport{ExportOutlined,LockOutlined,UserOutlined,PictureOutlined,EnvironmentOutlined,PlusOutlined}from'@ant-design/icons';import'antd/dist/antd.css';import'./TourPlan.css';import usePlan from'../components/usePlan';import{//     // for query\n//     PLAN_QUERY,\nUSERNAME_QUERY,USERPLAN_QUERY//     // for mutation\n//     NEW_PLAN_MUTATION,\n//     RENAME_PLAN_MUTATION,\n,DELETE_PLAN_MUTATION//     NEW_SPOT_MUTATION,\n,DELETE_SPOT_MUTATION,UPDATE_SPOT_STARTTIME_MUTATION,UPDATE_SPOT_ENDTIME_MUTATION//     // for subscription\n}from'../graphql';import background from'../img/place-of-destination.png';import bucketList from'../img/bucket_list.jpg';import pointLeft from'../img/point_left.png';var SubMenu=Menu.SubMenu;var Header=Layout.Header,Content=Layout.Content,Footer=Layout.Footer,Sider=Layout.Sider;export default function TourPlan(props){// const [username, setUsername] = useState(\"\")\n// const {data:usernameData} = useQuery(USERNAME_QUERY, {variables:{_id:props.match.params.userId}})\n// const {data:usernameData} = useQuery(USERNAME_QUERY, {variables:{_id:props.match.params.userId}})\nvar _usePlan=usePlan(props.match.params.userId),planState=_usePlan.plan,error=_usePlan.error,username=_usePlan.username;var _useMutation=useMutation(DELETE_PLAN_MUTATION),_useMutation2=_slicedToArray(_useMutation,1),deletePlan=_useMutation2[0];var _useMutation3=useMutation(DELETE_SPOT_MUTATION),_useMutation4=_slicedToArray(_useMutation3,1),deleteSpot=_useMutation4[0];var _useMutation5=useMutation(UPDATE_SPOT_STARTTIME_MUTATION),_useMutation6=_slicedToArray(_useMutation5,1),updateSpotStartTime=_useMutation6[0];var _useMutation7=useMutation(UPDATE_SPOT_ENDTIME_MUTATION),_useMutation8=_slicedToArray(_useMutation7,1),updateSpotEndTime=_useMutation8[0];// const username = usernameData? usernameData.Username : null\n// console.log(planState)\n// console.log(usrename)\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),showUsermMenu=_useState2[0],setShowUsermMenu=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),re=_useState4[0],setre=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),currentPlan=_useState6[0],setCurrentPlan=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),currentSpot=_useState8[0],setCurrentSpot=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),initialPlan=_useState10[0],setInitialPlan=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),newTime=_useState12[0],setTime=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),newStartTime=_useState14[0],setnewStartTime=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),newEndTime=_useState16[0],setnewEndTime=_useState16[1];var history=useHistory();var backToMap=function backToMap(){history.push(\"/\".concat(props.match.params.userId));};var logout=function logout(){history.push(\"/\");};var handleStartChange=function handleStartChange(ev){if(!ev.target['validity'].valid)return;var dt=ev.target['value']+':00Z';setnewStartTime(dt);// console.log(dt)\n};var handleEndChange=function handleEndChange(ev){if(!ev.target['validity'].valid)return;var dt=ev.target['value']+':00Z';setnewEndTime(dt);// console.log(dt)\n};return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsxs(Header,{className:\"header\",style:{color:\"white\",fontSize:\"20px\",margin:\"0px\"},children:[\"Tour Plan\",/*#__PURE__*/_jsx(\"div\",{className:\"logo\"}),/*#__PURE__*/_jsx(Menu,{theme:\"dark\",mode:\"horizontal\",defaultSelectedKeys:['2'],children:/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(UserOutlined,{}),style:{position:'absolute',width:'150px',textAlign:'center',right:'0%'},onClick:function onClick(){setShowUsermMenu(!showUsermMenu);},children:username},\"4\")})]}),/*#__PURE__*/_jsxs(Layout,{className:\"middle\",children:[/*#__PURE__*/_jsx(Sider,{height:500,width:200,className:\"site-layout-background\",children:/*#__PURE__*/_jsx(Menu,{mode:\"inline\",defaultSelectedKeys:['1'],defaultOpenKeys:['sub1'],style:{height:'100%',borderRight:0},children:/*#__PURE__*/_jsx(SubMenu,{icon:/*#__PURE__*/_jsx(EnvironmentOutlined,{}),title:\"My Plans\",children:planState.map(function(_ref,i){var title=_ref.title;return/*#__PURE__*/_jsxs(Menu.Item,{onClick:function onClick(){setCurrentPlan(i);setInitialPlan(false);},style:{display:\"flex\",alignItems:\"center\"},children:[title,/*#__PURE__*/_jsx(Button,{className:\"deletePlan\",type:\"dashed\",size:\"small\",style:{position:\"absolute\",right:\"10px\",fontSize:\"5px\"},onClick:function onClick(){deletePlan({variables:{_id:planState[i]._id}});setre(!re);// console.log(planState)\n},children:\"x\"})]});})},\"sub1\")})}),/*#__PURE__*/_jsxs(Layout,{style:{padding:'0 24px 24px'},children:[/*#__PURE__*/_jsxs(Breadcrumb,{style:{margin:'16px 0'},children:[/*#__PURE__*/_jsx(Breadcrumb.Item,{children:\"Home\"}),/*#__PURE__*/_jsx(Breadcrumb.Item,{children:\"Plan List\"}),!planState||planState.length===0?/*#__PURE__*/_jsx(Breadcrumb.Item,{}):/*#__PURE__*/_jsx(Breadcrumb.Item,{children:planState[currentPlan].title})]}),/*#__PURE__*/_jsxs(Content,{className:\"site-layout-background\",style:{padding:24,margin:0,minHeight:280},children:[initialPlan&&!(!planState||planState.length===0)?/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:\"0px\",position:\"relative\",left:\"0px\"},children:\"Choose a Plan in the Left\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{style:{width:\"100px\"},src:pointLeft,alt:\"pointLeft\"})]}):/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-title\",children:!planState||planState.length===0?/*#__PURE__*/_jsx(\"h3\",{}):/*#__PURE__*/_jsxs(\"h3\",{style:{margin:\"0px\",position:\"relative\",left:\"0px\"},children:[\" \",planState[currentPlan].title,\" \"]})}),!planState||planState.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"table-title\",style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontFamily:\"fantasy\"},children:\" No Plan Right Now \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:bucketList,alt:\"Bucket List\",style:{width:\"500px\"}})]}):/*#__PURE__*/_jsx(React.Fragment,{children:planState[currentPlan].spots.length!==0?/*#__PURE__*/_jsxs(\"table\",{className:\"table-fill\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"spot-title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{className:\"spot-description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"spot-button\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:planState[currentPlan].spots.map(function(e,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"spot-title\",children:[\" \",e.location.properties.title,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"spot-description\",children:[\" \",e.location.properties.description,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"spot-time\",children:[/*#__PURE__*/_jsx(\"p\",{children:new Date(e.startTime).toLocaleString()}),/*#__PURE__*/_jsx(\"p\",{className:\"timeto\",children:\"to\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date(e.endTime).toLocaleString()})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"spot-button\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setTime(true);setCurrentSpot(i);},style:{width:\"100px\",textAlign:\"center\",fontSize:\"10px\"},children:\" Edit Time\"}),/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Drawer,{title:planState[currentPlan].spots[currentSpot].location.properties.title,width:360,onClose:function onClose(){setTime(false);},visible:newTime,bodyStyle:{paddingBottom:80},footer:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setTime(false);},style:{marginRight:8},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){updateSpotStartTime({variables:{_id:planState[currentPlan].spots[currentSpot]._id,time:new Date(newStartTime).toString()}});updateSpotEndTime({variables:{_id:planState[currentPlan].spots[currentSpot]._id,time:new Date(newEndTime).toString()}});setTime(false);// setre(!re)\nconsole.log(new Date(newStartTime).toString(),new Date(newEndTime).toString());},type:\"primary\",children:\"Change Time\"})]}),children:/*#__PURE__*/_jsxs(Form,{layout:\"vertical\",hideRequiredMark:true,children:[/*#__PURE__*/_jsx(Row,{gutter:16,children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Item,{name:\"Start time\",label:\"Start time\",rules:[{required:true,message:'Please enter new start time'}],children:/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",name:\"start time\",value:(newStartTime||'').toString().substring(0,16),onChange:handleStartChange})})})}),/*#__PURE__*/_jsx(Row,{gutter:16,children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Item,{name:\"End time\",label:\"End time\",rules:[{required:true,message:'Please enter new end time'}],children:/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",name:\"end time\",value:(newEndTime||'').toString().substring(0,16),onChange:handleEndChange})})})})]})})}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){// var temp = planState\n// temp[currentPlan].spots.splice(i, 1)\n// setPlan(temp)\nsetre(!re);deleteSpot({variables:{_id:planState[currentPlan].spots[currentSpot]._id}});},style:{width:\"100px\",textAlign:\"center\",fontSize:\"10px\"},children:\" Delete Spot\"})]})]},i);})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"table-title\",style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontFamily:\"fantasy\"},children:\" No Spot Right Now \"}),/*#__PURE__*/_jsx(\"img\",{src:background,alt:\"Background\"})]})})]}),showUsermMenu?/*#__PURE__*/ //show menu if click account button\n_jsx(\"div\",{style:{position:\"absolute\",width:'150px',textAlign:'center',top:\"65px\",right:'0%',hidden:'true'},zindex:-1,children:/*#__PURE__*/_jsxs(Menu,{theme:\"blue\",mode:\"vertical\",children:[/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(EnvironmentOutlined,{}),style:{margin:'0px',textAlign:'left',position:\"relative\",left:\"23px\"},onClick:backToMap,children:\"Tour Map\"},\"1\"),/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(ExportOutlined,{}),style:{margin:'0px',textAlign:'left',position:\"relative\",left:\"23px\"},onClick:logout,children:\"logout\"},\"2\")]})}):null]})]})]})]})});}","map":{"version":3,"sources":["C:/Users/HO_CHUN_WEI/Desktop/web/Jose-Antonio_LoverBus/src/containers/TourPlan.js"],"names":["React","useContext","useState","useEffect","useRef","useQuery","useMutation","useHistory","Tooltip","Form","Checkbox","Input","Layout","Menu","Breadcrumb","Button","Table","Popconfirm","Drawer","Col","Row","Select","Space","ExportOutlined","LockOutlined","UserOutlined","PictureOutlined","EnvironmentOutlined","PlusOutlined","usePlan","USERNAME_QUERY","USERPLAN_QUERY","DELETE_PLAN_MUTATION","DELETE_SPOT_MUTATION","UPDATE_SPOT_STARTTIME_MUTATION","UPDATE_SPOT_ENDTIME_MUTATION","background","bucketList","pointLeft","SubMenu","Header","Content","Footer","Sider","TourPlan","props","match","params","userId","planState","plan","error","username","deletePlan","deleteSpot","updateSpotStartTime","updateSpotEndTime","showUsermMenu","setShowUsermMenu","re","setre","currentPlan","setCurrentPlan","currentSpot","setCurrentSpot","initialPlan","setInitialPlan","newTime","setTime","newStartTime","setnewStartTime","newEndTime","setnewEndTime","history","backToMap","push","logout","handleStartChange","ev","target","valid","dt","handleEndChange","color","fontSize","margin","position","width","textAlign","right","height","borderRight","map","i","title","display","alignItems","variables","_id","padding","length","minHeight","left","fontFamily","spots","e","location","properties","description","Date","startTime","toLocaleString","endTime","paddingBottom","marginRight","time","toString","console","log","required","message","substring","top","hidden"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport { useQuery, useMutation } from '@apollo/react-hooks'\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Tooltip, Form, Checkbox, Input, Layout, Menu, Breadcrumb, Button, Table, Popconfirm,\r\n    Drawer, Col, Row, Select, Space} from 'antd';\r\n// import Highlighter from 'react-highlight-words';\r\n// import { SearchOutlined } from '@ant-design/icons';    \r\nimport { ExportOutlined, LockOutlined, UserOutlined, PictureOutlined, EnvironmentOutlined, PlusOutlined} from '@ant-design/icons';\r\nimport 'antd/dist/antd.css'\r\nimport './TourPlan.css'\r\nimport usePlan from '../components/usePlan'\r\nimport {\r\n//     // for query\r\n//     PLAN_QUERY,\r\n    USERNAME_QUERY,\r\n    USERPLAN_QUERY,\r\n//     // for mutation\r\n//     NEW_PLAN_MUTATION,\r\n//     RENAME_PLAN_MUTATION,\r\n    DELETE_PLAN_MUTATION,\r\n//     NEW_SPOT_MUTATION,\r\n    DELETE_SPOT_MUTATION,\r\n    UPDATE_SPOT_STARTTIME_MUTATION,\r\n    UPDATE_SPOT_ENDTIME_MUTATION,\r\n//     // for subscription\r\n  } from '../graphql'\r\nimport background from '../img/place-of-destination.png';\r\nimport bucketList from '../img/bucket_list.jpg';\r\nimport pointLeft from '../img/point_left.png';\r\n\r\nconst { SubMenu } = Menu;\r\nconst { Header, Content, Footer, Sider } = Layout;\r\n\r\nexport default function TourPlan(props){\r\n    // const [username, setUsername] = useState(\"\")\r\n    // const {data:usernameData} = useQuery(USERNAME_QUERY, {variables:{_id:props.match.params.userId}})\r\n    // const {data:usernameData} = useQuery(USERNAME_QUERY, {variables:{_id:props.match.params.userId}})\r\n    const {plan:planState, error, username} = usePlan(props.match.params.userId)\r\n\r\n    const [deletePlan] = useMutation(DELETE_PLAN_MUTATION)\r\n    const [deleteSpot] = useMutation(DELETE_SPOT_MUTATION)\r\n    const [updateSpotStartTime] = useMutation(UPDATE_SPOT_STARTTIME_MUTATION)\r\n    const [updateSpotEndTime] = useMutation(UPDATE_SPOT_ENDTIME_MUTATION)\r\n\r\n    // const username = usernameData? usernameData.Username : null\r\n    // console.log(planState)\r\n    // console.log(usrename)\r\n    const [showUsermMenu, setShowUsermMenu] = useState(false)\r\n    const [re, setre] = useState(true)\r\n    const [currentPlan, setCurrentPlan] = useState(0)\r\n    const [currentSpot, setCurrentSpot] = useState(0)\r\n    const [initialPlan, setInitialPlan] = useState(true)\r\n    const [newTime, setTime] = useState(false)\r\n    const [newStartTime, setnewStartTime] = useState(\"\")\r\n    const [newEndTime, setnewEndTime] = useState(\"\")\r\n\r\n    const history = useHistory();\r\n    const backToMap = () => {\r\n         history.push(`/${props.match.params.userId}`)\r\n    }\r\n    const logout = () => {\r\n         history.push(\"/\")\r\n    }\r\n    \r\n    const handleStartChange = (ev) => {\r\n        if (!ev.target['validity'].valid) return;\r\n        const dt = ev.target['value'] + ':00Z';\r\n        setnewStartTime(dt);\r\n        // console.log(dt)\r\n    }\r\n    const handleEndChange = (ev) => {\r\n        if (!ev.target['validity'].valid) return;\r\n        const dt = ev.target['value'] + ':00Z';\r\n        setnewEndTime(dt);\r\n        // console.log(dt)\r\n      }\r\n    return (\r\n        <React.Fragment>\r\n            <Layout>\r\n            <Header className=\"header\" style={{color: \"white\", fontSize: \"20px\", margin: \"0px\"}}>Tour Plan\r\n                <div className=\"logo\" />\r\n                <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\r\n                    <Menu.Item icon={<UserOutlined />} key=\"4\" style={{position:'absolute', width: '150px',textAlign: 'center', right: '0%'}} onClick={() => {setShowUsermMenu(!showUsermMenu)}}>\r\n                        {username}\r\n                    </Menu.Item>\r\n                </Menu>\r\n            </Header>\r\n            <Layout className='middle'>\r\n            <Sider height={500} width={200} className=\"site-layout-background\">\r\n                <Menu\r\n                mode=\"inline\"\r\n                defaultSelectedKeys={['1']}\r\n                defaultOpenKeys={['sub1']}\r\n                style={{ height: '100%', borderRight: 0}}\r\n                >\r\n                <SubMenu key=\"sub1\" icon={<EnvironmentOutlined />} title=\"My Plans\">\r\n                    {\r\n                      planState.map(({ title }, i) => (\r\n                        <Menu.Item onClick={() => {\r\n                            setCurrentPlan(i)\r\n                            setInitialPlan(false)\r\n                        }} style={{display: \"flex\", alignItems: \"center\"}}>\r\n                            {title}\r\n                            <Button \r\n                            className=\"deletePlan\"\r\n                            type=\"dashed\"\r\n                            size=\"small\"\r\n                            style={{position: \"absolute\", right: \"10px\", fontSize: \"5px\"}}\r\n                            onClick={() => {\r\n                                deletePlan({variables:{\r\n                                    _id: planState[i]._id\r\n                                  }})\r\n                                setre(!re)\r\n                                // console.log(planState)\r\n                            }}\r\n                            >x</Button>\r\n                        </Menu.Item>\r\n                      ))\r\n                    }\r\n                </SubMenu>\r\n                </Menu>\r\n            </Sider>\r\n            <Layout style={{ padding: '0 24px 24px' }}>\r\n            <Breadcrumb style={{ margin: '16px 0' }}>\r\n                <Breadcrumb.Item>Home</Breadcrumb.Item>\r\n                <Breadcrumb.Item>Plan List</Breadcrumb.Item>\r\n                {(!planState || planState.length === 0)?(<Breadcrumb.Item></Breadcrumb.Item>)\r\n                :(<Breadcrumb.Item>{planState[currentPlan].title}</Breadcrumb.Item>)}   \r\n                </Breadcrumb>\r\n                <Content\r\n                className=\"site-layout-background\"\r\n                style={{\r\n                    padding: 24,\r\n                    margin: 0,\r\n                    minHeight: 280,\r\n                }}\r\n                >\r\n                    {(initialPlan && !(!planState || planState.length === 0))?(\r\n                        <React.Fragment>\r\n                            <h3 style={{margin: \"0px\", position: \"relative\", left: \"0px\"}}>Choose a Plan in the Left</h3> \r\n                            <br></br>\r\n                            <br></br>\r\n                            <img style={{width: \"100px\"}} src={pointLeft} alt=\"pointLeft\"/>\r\n                        </React.Fragment>\r\n                        ):\r\n                        (\r\n                    <React.Fragment>\r\n                    <div className=\"table-title\">\r\n                        {(!planState || planState.length === 0)?(<h3></h3>):(<h3 style={{margin: \"0px\", position: \"relative\", left: \"0px\"}}> {planState[currentPlan].title} </h3>)}\r\n                    </div>\r\n                    {((!planState || planState.length === 0)?(\r\n                        <div className=\"table-title\" style={{textAlign: \"center\"}}> \r\n                            <h2 style={{fontFamily: \"fantasy\"}}> No Plan Right Now </h2> \r\n                            <br></br>\r\n                            <img src={bucketList} alt=\"Bucket List\" style={{width: \"500px\"}}/>\r\n                        </div>):\r\n                        (<React.Fragment>\r\n                            {(planState[currentPlan].spots.length !== 0)?(\r\n                                <table className=\"table-fill\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th className='spot-title' >Title</th>\r\n                                        <th className='spot-description' >Description</th>\r\n                                        <th >Time</th>\r\n                                        <th className='spot-button'></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {planState[currentPlan].spots.map((e, i) => (\r\n                                        <tr key={i}>\r\n                                            <td className='spot-title' > {e.location.properties.title} </td>\r\n                                            <td className='spot-description' > {e.location.properties.description} </td>\r\n                                            <td className='spot-time' >\r\n                                            <p>{new Date(e.startTime).toLocaleString()}</p>\r\n                                            <p className=\"timeto\">to</p>\r\n                                            <p>{new Date(e.endTime).toLocaleString()}</p> \r\n                                            </td>\r\n                                            <td className='spot-button'>\r\n                                                <Button onClick={() => {setTime(true)\r\n                                                setCurrentSpot(i)}} \r\n                                                style={{width:\"100px\", textAlign: \"center\", fontSize: \"10px\"}}> Edit Time</Button>\r\n                                                <React.Fragment>\r\n                                                    <Drawer\r\n                                                        title={planState[currentPlan].spots[currentSpot].location.properties.title}\r\n                                                        width={360}\r\n                                                        onClose={() => {setTime(false)}}\r\n                                                        visible={newTime}\r\n                                                        bodyStyle={{ paddingBottom: 80 }}\r\n                                                        footer={\r\n                                                            <div\r\n                                                                style={{\r\n                                                                    textAlign: 'right',\r\n                                                            }}\r\n                                                        >\r\n                                                            <Button onClick={() => {setTime(false)}} style={{ marginRight: 8 }}>\r\n                                                                Cancel\r\n                                                            </Button>\r\n                                                            {/* <Button onClick={registerAccount} */}\r\n                                                            <Button onClick={() => {\r\n                                                                updateSpotStartTime({variables:{\r\n                                                                    _id: planState[currentPlan].spots[currentSpot]._id,\r\n                                                                    time: new Date(newStartTime).toString()\r\n                                                                }})\r\n                                                                updateSpotEndTime({variables:{\r\n                                                                    _id: planState[currentPlan].spots[currentSpot]._id,\r\n                                                                    time: new Date(newEndTime).toString()\r\n                                                                }})\r\n                                                                setTime(false)\r\n                                                                // setre(!re)\r\n                                                                console.log(new Date(newStartTime).toString(), new Date(newEndTime).toString())\r\n                                                            }}\r\n                                                                type=\"primary\">\r\n                                                                Change Time\r\n                                                            </Button>\r\n                                                        </div>\r\n                                                    }\r\n                                                    >\r\n                                                        <Form layout=\"vertical\" hideRequiredMark>\r\n                                                            <Row gutter={16}>\r\n                                                                <Col>\r\n                                                                    <Form.Item\r\n                                                                        name=\"Start time\"\r\n                                                                        label=\"Start time\"\r\n                                                                        rules={[{ required: true, message: 'Please enter new start time' }]}\r\n                                                                        >\r\n                                                                        <input \r\n                                                                            type=\"datetime-local\"\r\n                                                                            name=\"start time\"\r\n                                                                            value={(newStartTime || '').toString().substring(0, 16)}\r\n                                                                            onChange={handleStartChange} />\r\n                                                                    </Form.Item>\r\n                                                                </Col>\r\n                                                            </Row>\r\n                                                            <Row gutter={16}>\r\n                                                                <Col>\r\n                                                                    <Form.Item\r\n                                                                        name=\"End time\"\r\n                                                                        label=\"End time\"\r\n                                                                        rules={[{ required: true, message: 'Please enter new end time' }]}\r\n                                                                        >\r\n                                                                        <input \r\n                                                                            type=\"datetime-local\"\r\n                                                                            name=\"end time\"\r\n                                                                            value={(newEndTime || '').toString().substring(0, 16)}\r\n                                                                            onChange={handleEndChange} />\r\n                                                                    </Form.Item>\r\n                                                                </Col>\r\n                                                            </Row>\r\n                                                        </Form>\r\n                                                    </Drawer>\r\n                                                </React.Fragment>\r\n                                                <Button onClick={()=>{\r\n                                                    // var temp = planState\r\n                                                    // temp[currentPlan].spots.splice(i, 1)\r\n                                                    // setPlan(temp)\r\n                                                    setre(!re)\r\n                                                    deleteSpot({variables:{\r\n                                                        _id: planState[currentPlan].spots[currentSpot]._id\r\n                                                    }})                \r\n                                                }} style={{width:\"100px\", textAlign: \"center\", fontSize: \"10px\"}}> Delete Spot</Button> \r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>):(\r\n                                <div className=\"table-title\" style={{textAlign: \"center\"}}> \r\n                                    <h2 style={{fontFamily: \"fantasy\"}}> No Spot Right Now </h2> \r\n                                    <img src={background} alt=\"Background\"/>\r\n                                </div>\r\n                                )}\r\n                        </React.Fragment>))} \r\n                        </React.Fragment>              \r\n                    )\r\n                    }\r\n                \r\n                {showUsermMenu?( //show menu if click account button\r\n                <div style={{position: \"absolute\", width: '150px', textAlign: 'center',top: \"65px\", right: '0%', hidden: 'true'}} zindex={-1}>\r\n                    <Menu theme=\"blue\" mode=\"vertical\">\r\n                    <Menu.Item \r\n                        icon ={<EnvironmentOutlined/>}\r\n                        key=\"1\" style={{margin: '0px', textAlign: 'left', position: \"relative\", left: \"23px\"}} onClick={backToMap}>\r\n                        Tour Map\r\n                    </Menu.Item>\r\n                    <Menu.Item \r\n                        icon ={<ExportOutlined/>}\r\n                        key=\"2\" style={{margin: '0px', textAlign: 'left', position: \"relative\", left: \"23px\"}} onClick={logout}>\r\n                        logout\r\n                    </Menu.Item>\r\n                    </Menu>\r\n                </div>):null\r\n                }\r\n                </Content>\r\n            </Layout>\r\n            </Layout>\r\n            </Layout>\r\n        </React.Fragment>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}